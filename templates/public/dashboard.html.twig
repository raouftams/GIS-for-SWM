{% extends "base.html.twig" %}

{% block title %}Tableau de bord {%endblock%}
{% block stylesheets %}
  <link rel="stylesheet" href="{{asset('css/dashboard.css')}}">
  <link rel="stylesheet" href="{{asset('css/charts.css')}}">
{% endblock %}
{% block header %}Tableau de bord {%endblock%}
{% block body %}
<div class="container">
<div class="row">
		<div class="col-xl-4 col-md-6 mb-xl-0 mb-4">

            <!-- Card Primary -->
            <div class="card classic-admin-card card-employe" style="border-left:2px solid #2274BF;border-right:2px solid #2274BF;">
              <div class="card-body">
                <div class="pull-right" style="float: left;">
                  <svg xmlns="http://www.w3.org/2000/svg" x="0px" y="0px"
					width="64" height="64"
					viewBox="0 0 172 172"
					style=" fill:#000000;"><g fill="none" fill-rule="nonzero" stroke="none" stroke-width="1" stroke-linecap="butt" stroke-linejoin="miter" stroke-miterlimit="10" stroke-dasharray="" stroke-dashoffset="0" font-family="none" font-weight="none" font-size="none" text-anchor="none" style="mix-blend-mode: normal"><path d="M0,172v-172h172v172z" fill="none"></path><g fill="#2274BF"><path d="M75.25,29.42865c-17.06563,0 -30.90625,13.84063 -30.90625,30.90625c0,2.28438 1.74687,4.03125 4.03125,4.03125h6.98645h0.27032c15.45313,0 31.17447,0 42.46197,-10.07812v0.13385c0.5375,-0.5375 1.07447,-0.9401 1.4776,-1.4776c1.47812,-1.6125 4.03282,-1.8823 5.64532,-0.40418c1.74688,1.47813 1.8802,4.16615 0.2677,5.91303l-1.88178,1.88178c-1.74687,1.74688 -1.07447,4.70207 1.2099,5.6427c1.34375,0.5375 2.82083,0.80782 4.29895,0.9422c2.01563,0.26875 3.6297,1.88125 3.6297,4.03125v9.13593c0.13437,14.10938 -10.61563,26.33803 -24.85937,27.41303c-15.5875,1.075 -28.6224,-11.28803 -28.75678,-26.74115c0,-2.15 -1.61355,-4.03072 -3.76355,-4.1651c-2.28438,-0.13438 -4.29895,1.74688 -4.29895,4.03125c0,19.21563 15.72187,34.9375 34.9375,34.9375c18.67813,0 33.99688,-14.64583 34.9375,-33.18958v-0.40417v-18.8125v-4.03125v-1.34375c0,-9.675 -7.25678,-17.60365 -16.66303,-18.67865l-0.53802,-0.80572c-3.89688,-5.50937 -10.34583,-8.86822 -17.06458,-8.86822zM86,122.28125c-22.0375,0 -42.46145,11.95885 -53.34583,31.0401c-1.075,1.88125 -0.40365,4.43385 1.4776,5.50885c0.67188,0.40312 1.34375,0.53802 2.01563,0.53802c1.34375,0 2.82135,-0.67187 3.49322,-2.01562c9.54062,-16.6625 27.27813,-27.00885 46.35938,-27.00885c19.08125,0 36.81875,10.34635 46.35938,27.00885c1.075,1.88125 3.6276,2.5526 5.50885,1.4776c1.88125,-1.075 2.5526,-3.6276 1.4776,-5.50885c-10.88438,-19.08125 -31.30833,-31.0401 -53.34583,-31.0401z"></path></g></g></svg>
                </div>
                <p class="text-center font-weight-bold" style="color:#2274BF;">Employés</p>
                <h4 class="text-center " style="color:#2274BF;">20</h4>
              </div>
            </div>
            <!-- Card Primary -->
          </div>
          <div class="col-xl-4 col-md-6 mb-xl-0 mb-4">

            <!-- Card Yellow -->
            <div class="card classic-admin-card card-tournee" style="border-left:2px solid #15cf65;border-right:2px solid #15cf65;">
              <div class="card-body">
                <div class="pull-right" style="float: left;">
                  <svg xmlns="http://www.w3.org/2000/svg" x="0px" y="0px"
					width="64" height="64"
					viewBox="0 0 172 172"
					style=" fill:#000000;"><g fill="none" fill-rule="nonzero" stroke="none" stroke-width="1" stroke-linecap="butt" stroke-linejoin="miter" stroke-miterlimit="10" stroke-dasharray="" stroke-dashoffset="0" font-family="none" font-weight="none" font-size="none" text-anchor="none" style="mix-blend-mode: normal"><path d="M0,172v-172h172v172z" fill="none"></path><g fill="#15cf65"><path d="M96.75,0c-2.96045,0 -5.375,2.41455 -5.375,5.375v26.39209c0,2.96045 2.41455,5.375 5.375,5.375c0.29395,0 0.58789,-0.03149 0.88184,-0.08398l5.54297,-0.91333l-4.08374,7.04419l-60.31128,-0.18897c-3.41187,0 -6.4458,2.1731 -7.59009,5.375h-23.1272c-4.44067,0 -8.0625,3.62183 -8.0625,8.0625v47.61914c0,0.74536 0.10498,1.49072 0.31494,2.22559l5.08105,17.81518c0,0.0105 0,0.0105 0,0.021c-3.12842,1.11279 -5.396,4.07324 -5.396,7.56909v16.125c0,4.43018 3.63233,8.0625 8.0625,8.0625h13.64746c1.29126,9.1123 9.1438,16.125 18.60254,16.125c9.45874,0 17.31128,-7.0127 18.60254,-16.125h59.54492c1.29126,9.1123 9.1438,16.125 18.60254,16.125c9.45874,0 17.31128,-7.0127 18.60254,-16.125h8.27246c4.43018,0 8.0625,-3.63232 8.0625,-8.0625v-16.125c0,-3.52734 -2.29907,-6.50879 -5.46948,-7.60059c0.03149,-0.14697 0.09448,-0.29395 0.09448,-0.46191v-10.27759c0,-2.58252 -0.73486,-5.10205 -2.1416,-7.27515l-19.30591,-30.02441c-2.47754,-3.86328 -6.69775,-6.17285 -11.2959,-6.17285h-4.88159v-5.375c0,-1.49072 -1.19678,-2.6875 -2.6875,-2.6875c-1.49072,0 -2.6875,1.19678 -2.6875,2.6875v5.375h-10.75v-18.2771l10.91797,-18.88599l16.83887,-2.80298c2.61401,-0.45141 4.49316,-2.6875 4.49316,-5.32251v-19.21143c0,-2.96045 -2.41455,-5.375 -5.375,-5.375zM96.75,5.375h43v19.21143l-12.50317,2.09961l0.67188,-1.15479c1.0813,-1.85815 1.37524,-4.03125 0.81885,-6.13086c-0.5669,-2.06811 -1.91065,-3.81079 -3.7688,-4.89209c-1.23877,-0.69287 -2.60352,-1.0708 -4.03125,-1.0708c-2.87646,0 -5.53247,1.55371 -6.9812,4.03125l-7.31714,12.66065l-9.88916,1.6377zM120.9375,18.8125c0.48291,0 0.94483,0.10498 1.34375,0.35693c0.61939,0.36743 1.0813,0.93433 1.25977,1.6377c0.18897,0.69287 0.08398,1.41723 -0.26245,2.03662l-2.87647,4.96558l-3.49585,6.04688l-6.63477,11.50586l-2.93945,5.08105l-35.11597,60.84668c-0.73486,1.23877 -2.42505,1.69019 -3.68482,0.99732c-1.29126,-0.75586 -1.72168,-2.39355 -0.99732,-3.68482l34.64355,-60.01733l3.09692,-5.34351l4.74512,-8.25147l3.49585,-6.01538l5.08105,-8.81836c0.49341,-0.82935 1.37524,-1.34375 2.34107,-1.34375zM38.77979,48.375h57.21435l-33.10034,57.53979c-2.20459,3.84229 -0.89233,8.78687 2.94995,11.02295c1.23877,0.69287 2.60352,1.0708 4.03125,1.0708c2.87647,0 5.53247,-1.55371 6.9812,-4.03125l30.6438,-53.07812v62.72583h-83.77441l15.53711,-45.30957c0.48291,-1.39624 -0.27295,-2.92896 -1.67969,-3.41186c-1.39624,-0.47241 -2.92896,0.26245 -3.40137,1.66919l-16.1355,47.05224h-6.9812l25.16382,-73.42334c0.37793,-1.0708 1.39624,-1.82666 2.55103,-1.82666zM8.0625,53.75h21.26904l-20.9751,61.13013l-2.87646,-10.07812c-0.07349,-0.24146 -0.10498,-0.49341 -0.10498,-0.74536v-47.61914c0,-1.48022 1.20728,-2.6875 2.6875,-2.6875zM42.81104,56.448c-1.0498,0.07349 -1.99463,0.75586 -2.36206,1.80566l-2.32007,6.79224c-0.48291,1.40674 0.26245,2.93945 1.66919,3.42236c0.28345,0.09448 0.58789,0.14697 0.87134,0.14697c1.11279,0 2.1626,-0.70337 2.54053,-1.81616l2.33057,-6.80273c0.48291,-1.40674 -0.26245,-2.92896 -1.66919,-3.41186c-0.34643,-0.11548 -0.71387,-0.15747 -1.0603,-0.13648zM112.875,75.25h21.00659c2.75049,0 5.29102,1.38574 6.78174,3.70581l19.30591,30.02441c0.83984,1.31226 1.28076,2.82398 1.28076,4.36719v10.27759h-48.375zM123.625,80.625c-2.96045,0 -5.375,2.41455 -5.375,5.375v16.125c0,2.96045 2.41455,5.375 5.375,5.375h19.3374c1.95264,0 3.7583,-1.0603 4.70313,-2.77148c0.94482,-1.70068 0.89233,-3.80029 -0.14697,-5.45898l-10.07812,-16.125c-0.98682,-1.57471 -2.6875,-2.51953 -4.55615,-2.51953zM123.625,86h9.25928l10.09912,16.125h-19.3584zM120.9375,112.875c-1.49072,0 -2.6875,1.19678 -2.6875,2.6875c0,1.49072 1.19678,2.6875 2.6875,2.6875h5.375c1.49072,0 2.6875,-1.19678 2.6875,-2.6875c0,-1.49072 -1.19678,-2.6875 -2.6875,-2.6875zM8.0625,129h155.875c1.48022,0 2.6875,1.20728 2.6875,2.6875v16.125c0,1.48022 -1.20728,2.6875 -2.6875,2.6875h-8.27246c-1.29126,-9.1123 -9.1438,-16.125 -18.60254,-16.125c-9.45874,0 -17.31128,7.0127 -18.60254,16.125h-59.54492c-1.29126,-9.1123 -9.1438,-16.125 -18.60254,-16.125c-9.45874,0 -17.31128,7.0127 -18.60254,16.125h-13.64746c-1.48022,0 -2.6875,-1.20728 -2.6875,-2.6875v-2.6875c1.49072,0 2.6875,-1.19678 2.6875,-2.6875v-5.375c0,-1.49072 -1.19678,-2.6875 -2.6875,-2.6875v-2.6875c0,-1.48022 1.20728,-2.6875 2.6875,-2.6875zM18.8125,134.375c-1.49072,0 -2.6875,1.19678 -2.6875,2.6875v5.375c0,1.49072 1.19678,2.6875 2.6875,2.6875c1.49072,0 2.6875,-1.19678 2.6875,-2.6875v-5.375c0,-1.49072 -1.19678,-2.6875 -2.6875,-2.6875zM61.8125,134.375c-1.49072,0 -2.6875,1.19678 -2.6875,2.6875v5.375c0,1.49072 1.19678,2.6875 2.6875,2.6875c1.49072,0 2.6875,-1.19678 2.6875,-2.6875v-5.375c0,-1.49072 -1.19678,-2.6875 -2.6875,-2.6875zM75.25,134.375c-1.49072,0 -2.6875,1.19678 -2.6875,2.6875v5.375c0,1.49072 1.19678,2.6875 2.6875,2.6875c1.49072,0 2.6875,-1.19678 2.6875,-2.6875v-5.375c0,-1.49072 -1.19678,-2.6875 -2.6875,-2.6875zM88.6875,134.375c-1.49072,0 -2.6875,1.19678 -2.6875,2.6875v5.375c0,1.49072 1.19678,2.6875 2.6875,2.6875c1.49072,0 2.6875,-1.19678 2.6875,-2.6875v-5.375c0,-1.49072 -1.19678,-2.6875 -2.6875,-2.6875zM102.125,134.375c-1.49072,0 -2.6875,1.19678 -2.6875,2.6875v5.375c0,1.49072 1.19678,2.6875 2.6875,2.6875c1.49072,0 2.6875,-1.19678 2.6875,-2.6875v-5.375c0,-1.49072 -1.19678,-2.6875 -2.6875,-2.6875zM115.5625,134.375c-1.49072,0 -2.6875,1.19678 -2.6875,2.6875v5.375c0,1.49072 1.19678,2.6875 2.6875,2.6875c1.49072,0 2.6875,-1.19678 2.6875,-2.6875v-5.375c0,-1.49072 -1.19678,-2.6875 -2.6875,-2.6875zM158.5625,134.375c-1.49072,0 -2.6875,1.19678 -2.6875,2.6875v5.375c0,1.49072 1.19678,2.6875 2.6875,2.6875c1.49072,0 2.6875,-1.19678 2.6875,-2.6875v-5.375c0,-1.49072 -1.19678,-2.6875 -2.6875,-2.6875zM40.3125,139.75c6.50879,0 11.93628,4.61914 13.17505,10.75c0.17847,0.86084 0.26245,1.77417 0.26245,2.6875c0,0.91333 -0.08398,1.82666 -0.26245,2.6875c-1.23877,6.13086 -6.66626,10.75 -13.17505,10.75c-6.50879,0 -11.93628,-4.61914 -13.17505,-10.75c-0.17847,-0.86084 -0.26245,-1.77417 -0.26245,-2.6875c0,-0.91333 0.08398,-1.82666 0.26245,-2.6875c1.23877,-6.13086 6.66626,-10.75 13.17505,-10.75zM137.0625,139.75c6.50879,0 11.93628,4.61914 13.17505,10.75c0.17847,0.86084 0.26245,1.77417 0.26245,2.6875c0,0.91333 -0.08398,1.82666 -0.26245,2.6875c-1.23877,6.13086 -6.66626,10.75 -13.17505,10.75c-6.50879,0 -11.93628,-4.61914 -13.17505,-10.75c-0.17847,-0.86084 -0.26245,-1.77417 -0.26245,-2.6875c0,-0.91333 0.08398,-1.82666 0.26245,-2.6875c1.23877,-6.13086 6.66626,-10.75 13.17505,-10.75zM40.3125,147.8125c-2.97095,0 -5.375,2.40405 -5.375,5.375c0,2.97095 2.40405,5.375 5.375,5.375c2.97095,0 5.375,-2.40405 5.375,-5.375c0,-2.97095 -2.40405,-5.375 -5.375,-5.375zM137.0625,147.8125c-2.97095,0 -5.375,2.40405 -5.375,5.375c0,2.97095 2.40405,5.375 5.375,5.375c2.97095,0 5.375,-2.40405 5.375,-5.375c0,-2.97095 -2.40405,-5.375 -5.375,-5.375z"></path></g></g></svg>
                </div>
                <p class="text-center font-weight-bold" style="color:#15cf65;">Tournée effectuées</p>
                <h4 class="text-center " style="color:#15cf65;">{{nbTourneesEffectuees}}</h4>
              </div>
            </div>
            <!-- Card Yellow -->
          </div>

          <div class="col-xl-4 col-md-6 mb-0">

            <!-- Card Red -->
            <div class="card classic-admin-card accent-2 card-tournee-encours" style="border-left:2px solid #e02222;border-right:2px solid #e02222;">
              <div class="card-body">
                <div class="pull-right" style="float: left;">
                  <svg xmlns="http://www.w3.org/2000/svg" x="0px" y="0px"
					width="64" height="64"
					viewBox="0 0 172 172"
					style=" fill:#000000;"><g fill="none" fill-rule="nonzero" stroke="none" stroke-width="1" stroke-linecap="butt" stroke-linejoin="miter" stroke-miterlimit="10" stroke-dasharray="" stroke-dashoffset="0" font-family="none" font-weight="none" font-size="none" text-anchor="none" style="mix-blend-mode: normal"><path d="M0,172v-172h172v172z" fill="none"></path><g fill="#e02222"><path d="M37.625,21.5v10.75h10.75v21.5c0,13.66846 7.34864,25.65723 18.30859,32.25c-10.95996,6.59278 -18.30859,18.58154 -18.30859,32.25v21.5h-10.75v10.75h96.75v-10.75h-10.75v-21.5c0,-13.66846 -7.34863,-25.65722 -18.30859,-32.25c10.95996,-6.59277 18.30859,-18.58154 18.30859,-32.25v-21.5h10.75v-10.75zM59.125,32.25h53.75v21.5c0,14.90723 -11.96777,26.875 -26.875,26.875c-14.90722,0 -26.875,-11.96777 -26.875,-26.875zM65.33984,59.125c2.39356,9.25928 10.64502,16.125 20.66016,16.125c10.01514,0 18.2666,-6.86572 20.66016,-16.125zM86,91.375c14.90723,0 26.875,11.96778 26.875,26.875v21.5h-5.375c0,-11.88379 -9.61621,-21.5 -21.5,-21.5c-11.88379,0 -21.5,9.61621 -21.5,21.5h-5.375v-21.5c0,-14.90722 11.96778,-26.875 26.875,-26.875z"></path></g></g></svg>
				</div>
                <p class="text-center font-weight-bold" style="color:#e02222;">Tournées en cours</p>
                <h4 class="text-center" style="color:#e02222;">{{tourneesEnCours}}</h4>
              </div>
            </div>
            <!-- Card Red -->
          </div>
    </div>
</div>
<br>
<div class="container-fluid mt-4">
    
    <div class="row">
        <div class="col-5">
            <div class="au-card m-b-30">
                <div class="au-card-inner"><div class="chartjs-size-monitor" style="position: absolute; left: 0px; top: 0px; right: 0px; bottom: 0px; overflow: hidden; pointer-events: none; visibility: hidden; z-index: -1;"><div class="chartjs-size-monitor-expand" style="position:absolute;left:0;top:0;right:0;bottom:0;overflow:hidden;pointer-events:none;visibility:hidden;z-index:-1;"><div style="position:absolute;width:1000000px;height:1000000px;left:0;top:0"></div></div><div class="chartjs-size-monitor-shrink" style="position:absolute;left:0;top:0;right:0;bottom:0;overflow:hidden;pointer-events:none;visibility:hidden;z-index:-1;"><div style="position:absolute;width:200%;height:200%;left:0; top:0"></div></div></div>
                    <h3 class="text-center font-weight-bold mb-4">Quantité de déchets par secteur</h3>
                    <hr>
                    <canvas id="Chart1" height="195" width="390" class="chartjs-render-monitor" style="display: block; width: 390px; height: 195px;"></canvas>
                </div>
            </div>
        </div>
        <div class="col-5">
            <div class="au-card m-b-30">
                <div class="au-card-inner"><div class="chartjs-size-monitor" style="position: absolute; left: 0px; top: 0px; right: 0px; bottom: 0px; overflow: hidden; pointer-events: none; visibility: hidden; z-index: -1;"><div class="chartjs-size-monitor-expand" style="position:absolute;left:0;top:0;right:0;bottom:0;overflow:hidden;pointer-events:none;visibility:hidden;z-index:-1;"><div style="position:absolute;width:1000000px;height:1000000px;left:0;top:0"></div></div><div class="chartjs-size-monitor-shrink" style="position:absolute;left:0;top:0;right:0;bottom:0;overflow:hidden;pointer-events:none;visibility:hidden;z-index:-1;"><div style="position:absolute;width:200%;height:200%;left:0; top:0"></div></div></div>
                    <h3 class="text-center font-weight-bold mb-4">Génération des déchets</h3>
                    <hr>
                    <canvas id="Chart2" height="195" width="390" class="chartjs-render-monitor" style="display: block; width: 390px; height: 195px;"></canvas>
                </div>
            </div>
        </div>
    </div>

<br>
<div class="mt-4 table-tournee">
    <div class="table-title">
        <h3 class="text-center text-white font-weight-bold mb4">Tournées en attente</h3>
    </div>
    <table class="table">
        <thead>
            <th>Secteur</th>
            <th>Véhicule</th>
            <th>Equipe</th>
            <th>CET</th>
            <th>Heure début</th>
            <th>Actions</th>
        </thead>
        {% if nbTourneesAttente != 0 %}
          {% for tournee in tournees %} 
          <tbody>
            <td>{{tournee.secteur}}</td>
            <td>{{tournee.marque}}</td>
            <td>{{tournee.equipe}}</td>
            <td>{{tournee.designation}}</td>
            <td>{{tournee.heure_demarrage_parc}}</td>
          </tbody>
            {% endfor %}
        {% endif %}
        
    </table>
</div>

{% endblock %}
{% block javascripts %}
<script src="{{asset('js/chart1.js')}}"></script> 
<script src="{{asset('js/chart2.js')}}"></script>
{% endblock %}